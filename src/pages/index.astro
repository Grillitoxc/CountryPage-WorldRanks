---
import Hero from "../components/Hero.astro";
import RankingFilter from "../components/RankingFilter.jsx";
import RankingHeader from "../components/RankingHeader.astro";
import Layout from "../layouts/Layout.astro";

const countries = await fetch("https://restcountries.com/v3.1/all")
  .then((data) => data.json())
  .catch((err) => console.log(err));
---

<Layout title="Country Page - WorldRanks">
  <Hero />
  <section class="container">
    <RankingHeader />
    <RankingFilter countries={countries} />
  </section>
</Layout>

<style>
  .container {
    display: grid;
    grid-template-rows: 100px 1fr;
    grid-template-columns: 1fr 3fr;
    grid-template-areas:
      "ranking-header ranking-header"
      "ranking-filter ranking-table";
    max-width: 90%;
    margin-top: -10px;
    min-height: 500px;
    margin: -65px auto 0 auto;
    border: 2px solid rgb(101, 101, 101);
    border-radius: 15px;
    background-color: var(--bg-dark);
  }
</style>
